[gd_scene load_steps=10 format=2]

[ext_resource path="res://UI/UI.tscn" type="PackedScene" id=1]
[ext_resource path="res://Player/Player.tscn" type="PackedScene" id=2]
[ext_resource path="res://Scripts/Room.gd" type="Script" id=3]
[ext_resource path="res://Scripts/Interactable.gd" type="Script" id=4]
[ext_resource path="res://Rooms/Hallway/hallway.png" type="Texture" id=5]
[ext_resource path="res://Rooms/Hallway/rubble.png" type="Texture" id=6]
[ext_resource path="res://Rooms/Hallway/lockers.png" type="Texture" id=7]
[ext_resource path="res://Rooms/Hallway/radiator.png" type="Texture" id=8]
[ext_resource path="res://Rooms/Hallway/doors.png" type="Texture" id=9]

[node name="Hallway" type="Node2D"]
script = ExtResource( 3 )

[node name="Background" type="ColorRect" parent="."]
margin_left = -1010.0
margin_top = -1048.0
margin_right = 1668.0
margin_bottom = 522.0
mouse_filter = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="YSort" type="YSort" parent="."]

[node name="Hallway" type="StaticBody2D" parent="YSort"]
position = Vector2( 210, -1292 )
__meta__ = {
"_edit_group_": true
}

[node name="Room" type="Sprite" parent="YSort/Hallway"]
position = Vector2( 104, 1053 )
texture = ExtResource( 5 )

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="YSort/Hallway"]
position = Vector2( -210, 1292 )
polygon = PoolVector2Array( 1049.26, 572.037, 1049.26, 486.414, 474.684, 264.6, 186.51, 142.762, -35.9685, 34.7937, -491.546, -179.315, -875.718, -389.952, -574, -507.5, -384.086, -572.423, -299.238, -542.151, -114.683, -464.369, 74.8219, -392.244, 238.981, -324.703, 382.641, -276.287, 550.112, -211.204, 696.946, -151.676, 826.319, -92.1485, 954.105, -43.7328, 1501.91, 173.718, 1586.8, -967.975, -1103.69, -1024.77, -1026.67, 381.185 )

[node name="Rubble" type="StaticBody2D" parent="YSort"]
position = Vector2( 1205, 504 )
__meta__ = {
"_edit_group_": true
}

[node name="Sprite" type="Sprite" parent="YSort/Rubble"]
position = Vector2( 0, -275 )
texture = ExtResource( 6 )

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="YSort/Rubble"]
polygon = PoolVector2Array( -165.426, 36.8473, 390.36, -359.133, 230.406, -403.611, 157.303, -378.184, 118.103, -330.508, 59.8323, -320.973, 2.99988, -276.224, -57.7681, -259.524, -92.7303, -204.432, -157.358, -182.184, -184.904, -127.091, -266.482, -115.437, -342.764, -39.156 )

[node name="Lockers" type="StaticBody2D" parent="YSort"]
position = Vector2( 286, -264 )
__meta__ = {
"_edit_group_": true
}

[node name="Sprite" type="Sprite" parent="YSort/Lockers"]
position = Vector2( 292, -7 )
texture = ExtResource( 7 )

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="YSort/Lockers"]
polygon = PoolVector2Array( 538.054, 216.206, 603.137, 172.949, 74.4861, -43.1821, -0.868927, -7.22125, 125.329, 45.9567, 184.857, 67.7834, 245.178, 90.8008, 296.372, 112.628, 413.046, 162.631, 451.541, 180.489 )

[node name="Radiator" type="StaticBody2D" parent="YSort"]
position = Vector2( -479, -519 )
__meta__ = {
"_edit_group_": true
}

[node name="Sprite" type="Sprite" parent="YSort/Radiator"]
position = Vector2( -114, -16.009 )
texture = ExtResource( 8 )

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="YSort/Radiator"]
polygon = PoolVector2Array( -49.3629, -24.5655, -238.144, 54.4788, -199.463, 73.8194, -158.259, 67.0922, -5.21579, -4.80444 )

[node name="Doors" type="Node2D" parent="YSort"]
position = Vector2( -137, 413 )
__meta__ = {
"_edit_group_": true
}

[node name="Sprite" type="Sprite" parent="YSort/Doors"]
position = Vector2( 130, -588 )
texture = ExtResource( 9 )

[node name="JohnsRoomDoor" type="Area2D" parent="YSort"]
collision_layer = 4
collision_mask = 4
script = ExtResource( 4 )
command = "> BOY, GO IN HERE."
width = 200
isWarp = true
dialogOrScene = "res://Rooms/John's Room/John's Room.tscn"
warpPos = Vector2( 4, 240 )

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="YSort/JohnsRoomDoor"]
position = Vector2( -655.701, 1543.04 )
polygon = PoolVector2Array( -113.625, -888, 14.875, -908.125, 15.4813, -575.107, -108.691, -535.821, -114.584, -537.645 )

[node name="Player" parent="YSort" instance=ExtResource( 2 )]
position = Vector2( -610, -302 )

[node name="RemoteTransform2D" type="RemoteTransform2D" parent="YSort/Player"]
position = Vector2( 90, -100 )
remote_path = NodePath("../../../Camera2D")

[node name="UI" parent="." instance=ExtResource( 1 )]

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2( -520, -402 )
current = true
limit_left = -926
limit_top = -992
limit_right = 1553
limit_bottom = 482
limit_smoothed = true
drag_margin_h_enabled = true
drag_margin_v_enabled = true
smoothing_enabled = true
drag_margin_left = 0.1
drag_margin_top = 0.05
drag_margin_right = 0.1
drag_margin_bottom = 0.05

[connection signal="mouse_entered" from="YSort/JohnsRoomDoor" to="YSort/JohnsRoomDoor" method="_on_mouse_entered"]
[connection signal="mouse_exited" from="YSort/JohnsRoomDoor" to="YSort/JohnsRoomDoor" method="_on_mouse_exited"]
